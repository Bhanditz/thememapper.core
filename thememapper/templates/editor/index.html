{% extends "base.html" %}
{% block navigation%}
{% include "nav.html" %}
{% endblock %}
{% block css %}
<link rel="stylesheet" href="/static/js/codemirror/lib/codemirror.css" />
{% endblock %}
{% block javascript %}
<script src="/static/js/codemirror/lib/codemirror.js"></script>
<script src="/static/js/codemirror/mode/xml/xml.js"></script>
<script src="/static/js/editor.js"></script>
{% endblock %}
{% block mask_content %}
<div class="mask_content_block" id="rule_generate_box">
    <h1>Generate Rule</h1>
    <hr/>
    <div>
        <form id="rule_generate_form" action="" method="get">
            <div class="selector_both">
                <input id="radio_action_replace" name="rule_type" type="radio" value="replace"/>
                <label for="radio_action_replace">Replace</label>
            </div>
            <div class="selector_content">
                <input id="radio_action_drop_content" name="rule_type" type="radio" value="drop_content"/>
                <label for="radio_action_drop_content">Drop content element</label>
            </div>
            <div class="selector_theme">
                <input id="radio_action_drop_theme" name="rule_type" type="radio" value="drop_theme"/>
                <label for="radio_action_drop_theme">Drop theme element</label>
            </div>
            <div class="selector_both">
                <input id="radio_action_before" name="rule_type" type="radio" value="before"/>
                <label for="radio_action_before">Before</label>
            </div>
            <div class="selector_both">
                <input id="radio_action_after" name="rule_type" type="radio" value="after"/>
                <label for="radio_action_after">After</label>
            </div>
            <hr/>
            <div id="theme-applyto">
                <input id="checkbox_theme_children" type="checkbox" name="checkbox_theme_children" value="1" />
                <label for="checkbox_theme_children">Apply to theme node children</label>
            </div>

            <div id="content-applyto">
                <input id="checkbox_content_children" type="checkbox" name="checkbox_content_children" value="1" />
                <label for="checkbox_content_children">Apply to content node children</label>
            </div>
            <hr/>
            <textarea id="rule_preview"></textarea>
            <div style="text-align:right">
                <button type="button" class="button_cancel">Cancel</button>
                <button type="button" class="button_ok">Generate</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
{% block content %}
<div class="iframe-wrap">
    <div style="width:49%;float:left;">
        <iframe id="theme-iframe" src=""></iframe>
        <div class="selector-wrap">
            <div class="selector" id="theme-selector-hover"></div>
            <div class="selector">Selector: <span id="theme-selector-selected"></span></div>
            <div class="cf"></div>
        </div>
    </div>
    <div style="width:49%;float:right;">
        <iframe id="content-iframe" src=""></iframe>
        <div class="selector-wrap">
            <div class="selector" id="content-selector-hover"></div>
            <div class="selector">Selector: <span id="content-selector-selected"></span></div>
            <div class="cf"></div>
        </div>
    </div>
    <div class="cf"></div>
</div>
<div class="code-wrap">
    <form style="border:1px solid #ccc;" action="" method="post">
        <textarea id="rules" name="rules" style="width:100%;min-height:300px;">{{ rules_xml }}</textarea>
        <input style="float:right;" type="submit" value="Save rules.xml" />
        <div class="clear"></div>
    </form>
</div>
{% endblock %}